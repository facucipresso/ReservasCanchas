<p-panel [toggleable]="false">

  <!-- HEADER -->
  <ng-template pTemplate="header">
    <div
      (click)="togglePanel()"
      style="
        cursor: pointer;
        display: flex;
        justify-content: space-between;
        align-items: center;
        width: 100%;
      "
    >
      <strong>{{ notification.title }}</strong>

      <div
        style="
          display: flex;
          align-items: center;
          gap: 10px;
          font-size: 12px;
          color: gray;
        "
      >
        <span>{{ notification.createdAt | date:'short' }}</span>

        <span
          *ngIf="!notification.isRead"
          style="color: blue; font-size: 10px;"
        >
          ●
        </span>

        <i
          class="pi"
          [ngClass]="collapsed ? 'pi-plus' : 'pi-minus'"
          style="font-size: 13px;"
        ></i>
      </div>
    </div>
  </ng-template>

  <!-- BODY -->
  <p *ngIf="!collapsed" style="margin: 0; padding-top: 8px;">
    {{ notification.message }}
  </p>

  <!-- FOOTER -->
  <ng-template pTemplate="footer">
    <div
      *ngIf="!collapsed && actions.length > 0"
      style="
        display: flex;
        justify-content: flex-end;
        gap: 8px;
      "
    >
      <button
        *ngFor="let action of actions"
        pButton
        type="button"
        [label]="action"
        size="small"
        [severity]="getButtonSeverity(action)"
        (click)="onAction(action)"
      ></button>
    </div>
  </ng-template>

</p-panel>

<app-reservation-reason-dialog
  [(visible)]="showReasonDialog"
  title="Indique la razón del rechazo"
  confirmLabel="Rechazar"
  (confirm)="onReasonConfirm($event)"
  (cancel)="onReasonCancel()"
></app-reservation-reason-dialog>
