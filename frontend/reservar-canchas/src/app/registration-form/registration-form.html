<div class="registration-form-container">
  <div
    class="container-image"
    [ngStyle]="{ 'background-image': currentImage }"
  ></div>
  <div class="container-form">
    <h1>Formulario de registro</h1>
    <form class="register-form" [formGroup]="registrationForm">
      <div class="fields-row">
        <div>
          <input
            pInputText
            type="text"
            placeholder="Nombre"
            formControlName="name"
          />
            @if(registrationForm.get('name')?.touched && registrationForm.get('name')?.invalid){
              @if(registrationForm.get('name')?.errors?.['required']){
                <small style="color: red;">El nombre es obligatorio</small>
              }
              @if(registrationForm.get('name')?.errors?.['pattern']){
                <small style="color: red;">El nombre solo acepta letras y espacios</small>
              }
            }
        </div>
        <div>
          <input
            pInputText
            type="text"
            placeholder="Apellido"
            formControlName="lastname"
          />
            @if(registrationForm.get('lastname')?.touched && registrationForm.get('lastname')?.invalid){
              @if(registrationForm.get('lastname')?.errors?.['required']){
                <small style="color: red;">El apellido es obligatorio</small>
              }
              @if(registrationForm.get('lastname')?.errors?.['pattern']){
                <small style="color: red;">El apellido solo acepta letras y espacios</small>
              }
            }
        </div>
        <div>
          <input
            pInputText
            type="text"
            placeholder="Nombre de usuario"
            formControlName="username"
          />
            @if(registrationForm.get('username')?.touched && registrationForm.get('username')?.invalid){
              @if(registrationForm.get('username')?.errors?.['required']){
                <small style="color: red;">El nombre de usuario es obligatorio</small>
              }
              @if(registrationForm.get('username')?.errors?.['minlength']){
                <small style="color: red;">El nombre de usuario debe tener al menos 4 caracteres</small>
              }
            }
        </div>
        <div>
          <input
            pInputText
            type="email"
            placeholder="Email"
            formControlName="email"
          />
            @if(registrationForm.get('email')?.touched && registrationForm.get('email')?.invalid){
              @if(registrationForm.get('email')?.errors?.['required']){
                <small style="color: red;">El email es obligatorio</small>
              }
              @if(registrationForm.get('email')?.errors?.['email']){
                <small style="color: red;">Debes introducir un formato de email válido.</small>
              }
            }
        </div>
        <div>
          <p-inputmask
            mask="(999) 999-9999"
            placeholder="Celular"
            autocomplete="off"
            formControlName="phoneNumber"
          />
            @if(registrationForm.get('phoneNumber')?.touched && registrationForm.get('phoneNumber')?.invalid){
              @if(registrationForm.get('phoneNumber')?.errors?.['required']){
                <small style="color: red;">El número de telefono es obligatorio</small>
              }
            }
        </div>
        <div>
          <p-password
            [feedback]="false"
            autocomplete="off"
            fluid
            placeholder="Contraseña"
            [toggleMask]="true"
            formControlName="password"
          />
            @if(registrationForm.get('password')?.touched && registrationForm.get('password')?.invalid){
              @if(registrationForm.get('password')?.errors?.['required']){
                <small style="color: red;">La contraseña es obligatoria</small>
              }
              @if(registrationForm.get('password')?.errors?.['minlength']){
                <small style="color: red;">La contraseña debe tener al menos 8 caracteres</small>
              }
            }
        </div>
      </div>
      <p-button label="Registrarse" [disabled]="registrationForm.invalid"/>
    </form>
  </div>
</div>
