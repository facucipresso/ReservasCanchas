<div class="info-field-container">
    <p-table
      [value]="fields"
      stripedRows
      [tableStyle]="{ 'min-width': '50rem' }"
    >
      <ng-template #header>
        <tr>
          <th>Nombre</th>
          <th>Precio por hora</th>
          <th>Iluminacion</th>
          <th>Cubierta</th>
          <th>Horario</th>
          <th></th>
        </tr>
      </ng-template>
      <ng-template #body let-field>
        <tr [class.disabled]="field.fieldState === 'Deshabilitada'">
          <td style="font-weight: bold">
            {{ field.name }} <br /><small style="color: #555; font-weight: 400"
              >{{ field.fieldType }} - {{ field.floorType }}
            </small>
          </td>
          <td>$ {{ field.hourPrice }}</td>
          <td>
            <i
              class="pi"
              style="font-size: 1.7rem; font-weight: bold"
              [ngClass]="field.ilumination ? 'pi-check' : 'pi-times'"
            >
            </i>
          </td>
          <td>
            <i
              class="pi"
              style="font-size: 1.7rem; font-weight: bold"
              [ngClass]="field.covered ? 'pi-check' : 'pi-times'"
            >
            </i>
          </td>
          <td>
          @if (getTimeSlotForField(field); as slot) {
            <p-select
              [options]="getSelectableHours(field.id, slot.initTime, slot.endTime)"
              optionLabel="hour"
              optionValue="hour"
              placeholder="Elige un horario"
              emptyMessage="No hay horarios disponibles"
              appendTo="body"
            ></p-select>
          }
          </td>
          <td>
            <button pButton style="cursor:pointer; margin-right: 15px;">
              <i class="pi pi-check" pButtonIcon></i>
              <span pButtonLabel style="color: white; margin-left: 3px; font-size: 1rem; font-weight: 500;" >Reservar</span>
            </button>
            @if(isAdmin){
              <button pButton style="cursor:pointer; margin-right: 15px;" (click)="onEdit(field)">
                <i class="pi pi-pencil" pButtonIcon></i>
                <span pButtonLabel style="color: white; margin-left: 3px; font-size: 1rem; font-weight: 500;" >Editar</span>
              </button>
               <button pButton style="cursor:pointer;" (click)="onDelete(field.id)">
                <i class="pi pi-trash" pButtonIcon></i>
                <span pButtonLabel style="color: white; margin-left: 3px; font-size: 1rem; font-weight: 500;" >Eliminar</span>
              </button>
            }
          </td>
        </tr>
      </ng-template>
    </p-table>
</div>